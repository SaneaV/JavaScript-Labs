<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Task 5</title>

	<style>
		#mainBlock{
			margin: 0 auto;
			border: 1px solid black;
			border-radius: 5px;
			margin-top: 20vh;
			text-align: center;
			padding: 15px;
			width: 50%;
		}

		.block{
			margin: 0 auto;
			border: 1px solid black;
			border-radius: 5px;
			margin-bottom: 3px;
			text-align: center;
			padding: 15px;
			width: 80%;
			background-color: green;
		}

	</style>
</head>
<body onload="init()">

	<div id="mainBlock">
		<h2>Нажмите на блок</h2>
		<div class="block">	</div>
		<div class="block">	</div>
		<div class="block">	</div>
	</div>

	<script>

		function init()
		{
			let divs = document.getElementsByTagName("div");
			for(let i=1;i<divs.length;i++)
			{
				divs[i].addEventListener("click", greenColor);
			}
		}

		function greenColor()
		{
			this.style.backgroundColor = "green";
			this.removeEventListener('click', greenColor);
			this.addEventListener("click", redColor);
		}

		function redColor()
		{
			this.style.backgroundColor = "red";
			this.removeEventListener('click', redColor);
			this.addEventListener("click", greenColor);
		}
		
	</script>
	
</body>
</html>